openapi: 3.0.0
info:
  title: Component Parameters Test API
  version: 1.0.0
paths:
  /users/{userId}:
    parameters:
      - $ref: '#/components/parameters/UserIdParam'
    get:
      operationId: getUser
      summary: Get user by ID
      parameters:
        - $ref: '#/components/parameters/IncludeDetails'
      responses:
        '200':
          description: User details
    put:
      operationId: updateUser
      summary: Update user
      parameters:
        - name: userId
          in: path
          required: true
          description: Override path-level parameter
          schema:
            type: integer
      responses:
        '200':
          description: User updated

  /items:
    get:
      operationId: getItems
      summary: Get items with pagination
      parameters:
        - $ref: '#/components/parameters/PageParam'
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/SortParam'
      responses:
        '200':
          description: List of items

components:
  parameters:
    UserIdParam:
      name: userId
      in: path
      required: true
      description: The user ID
      schema:
        type: string
        format: uuid

    IncludeDetails:
      name: includeDetails
      in: query
      required: false
      description: Whether to include detailed information
      schema:
        type: boolean
        default: false

    PageParam:
      name: page
      in: query
      required: false
      description: Page number for pagination
      schema:
        type: integer
        minimum: 1
        default: 1

    LimitParam:
      name: limit
      in: query
      required: false
      description: Number of items per page
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20

    SortParam:
      name: sort
      in: query
      required: false
      description: Sort field and direction
      schema:
        type: string
        enum:
          - name_asc
          - name_desc
          - created_asc
          - created_desc

  schemas:
    User:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        email:
          type: string
          format: email
      required:
        - id
        - name

    Item:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        createdAt:
          type: string
          format: date-time
      required:
        - id
        - name
